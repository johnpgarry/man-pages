.\" Hey Emacs! This file is -*- nroff -*- source.
.\"
.\" Copyright 1993 Rickard E. Faith (faith@cs.unc.edu)
.\" Portions extracted from /usr/include/dirent.h are:
.\"                    Copyright 1991, 1992 Free Software Foundation
.\" May be distributed under the GNU General Public License
.TH GETDIRENTRIES 3 "22 July 1993" "BSD/MISC" "Linux Programmer's Manual"
.SH NAME
getdirentries \- get directory entries in a filesystem independent format
.SH SYNOPSIS
.B #define __USE_BSD
or
.B #define __USE_MISC
.br
.B #include <dirent.h>
.sp
.BI "ssize_t getdirentries(int " fd ", char *" buf ", size_t " nbytes
.BI ", off_t *" basep );
.SH DESCRIPTION
Read directory entries from the directory specified by
.I fd
into
.IR buf .
At most
.I nbytes
are read.  Reading starts at offset
.RI * basep ,
and
.RI * basep
is updated with the new position after reading.
.SH "RETURN VALUE"
.B getdirentries
returns the number of bytes read or zero when at the end of the directory.
If an error occurs, -1 is returned, and
.I errno
is set appropriately.
.SH ERRORS
See the Linux library source code for details.
.SH SEE ALSO
.BR open "(2), " lseek (2)
