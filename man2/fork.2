.\" Hey Emacs! This file is -*- nroff -*- source.
.\"
.\" Copyright (c) 1992 Drew Eckhardt (drew@cs.colorado.edu), March 28, 1992
.\" May be distributed under the GNU General Public License.
.\" Modified by Michael Haardt (u31b3hs@pool.informatik.rwth-aachen.de)
.\" Modified Sat Jul 24 13:22:07 1993 by Rik Faith (faith@cs.unc.edu)
.\"
.TH FORK 2 "24 July 1993" "Linux 0.99.11" "Linux Programmer's Manual"
.SH NAME
fork, vfork \- create a child process
.SH SYNOPSIS
.B #include <unistd.h>
.sp
.B pid_t fork(void);
.br
.B pid_t vfork(void);
.SH DESCRIPTION
.B fork
creates a child process that differs from the parent process only in its
PID, and in the fact that resource utilizations are set to 0.
.PP
Under Linux,
.B fork
is implemented using copy-on-write pages, so the only penalty incurred by
fork is the time and memory required to duplicate the parent's page tables,
and to create a unique task structure for the child.
.SH "RETURN VALUE"
On success, the PID of the child process is returned in the parent's thread
of execution, and a 0 is returned in the child's thread of execution.  On
failure, a \-1 will be returned in the parent's context, no child process
will be created, and
.I errno
will be set appropriately.
.SH ERRORS
.TP
.B EAGAIN
.B fork
cannot allocate sufficient memory to copy the parent's page tables and
allocate a task structure for the child.
.SH BUGS
Under Linux,
.B vfork
is merely an alias for
.BR fork .
.SH "CONFORMING TO"
SVID, AT&T, POSIX, X/OPEN, BSD 4.3
.SH "SEE ALSO"
.BR execve "(2), " wait (2)
